{"version":3,"sources":["webpack:///./src/app/pages/login/login-routing.module.ts","webpack:///./src/app/pages/login/login.html","webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.scss","webpack:///./src/app/pages/login/login.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACc;AAEnB;AAEpC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,gDAAS;KACrB;CACF,CAAC;AAMF;IAAA;IAAsC,CAAC;IAA1B,sBAAsB;QAJlC,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,sBAAsB,CAAI;IAAD,6BAAC;CAAA;AAAJ;;;;;;;;;;;;AChBnC,w3C;;;;;;;;;;;;;;;;;;;;;;ACAyC;AACM;AACF;AACA;AAET;AAC4B;AAahE;IAAA;IAA2B,CAAC;IAAf,WAAW;QAXvB,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4EAAsB;aACvB;YACD,YAAY,EAAE;gBACZ,gDAAS;aACV;SACF,CAAC;OACW,WAAW,CAAI;IAAD,kBAAC;CAAA;AAAJ;;;;;;;;;;;;ACnBxB,+BAA+B,oBAAoB,sBAAsB,uBAAuB,EAAE,qBAAqB,qBAAqB,EAAE,WAAW,qBAAqB,EAAE,+CAA+C,+lB;;;;;;;;;;;;;;;;;;;;;;;;ACAlK;AAEpB;AACA;AAEU;AACkC;AAChC;AACE;AAIY;AAGnE,IAAO,aAAa,GAAG;IACnB,YAAY,EAAE,CAAC;IACf,iBAAiB,EAAE,CAAC;IACpB,SAAS,EAAG,CAAC;IACb,gBAAgB,EAAG,CAAC;IACpB,kBAAkB,EAAE,CAAC;IACrB,mBAAmB,EAAE,CAAC;IACtB,gBAAgB,EAAE,CAAC;IACnB,eAAe,EAAE,CAAC;CACnB,CAAC;AAQJ;IAWE,mBACW,QAAyB,EAC1B,OAAgB,EAChB,MAAc,EACd,eAAgC,EAChC,eAAgC,EAChC,gBAAkC,EAEnC,iBAAoC,EACpC,MAAc;QARZ,aAAQ,GAAR,QAAQ,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAS;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAiB;QAChC,oBAAe,GAAf,eAAe,CAAiB;QAChC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAEnC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,WAAM,GAAN,MAAM,CAAQ;QAhBvB,iBAAY,GAAS,IAAI,CAAC;QAC1B,gBAAW,GAAS,IAAI,CAAC;QAEzB,cAAS,GAAG,KAAK,CAAC;QAgBlB,IAAI,CAAC,QAAQ,EAAE,CAAE;QACjB,IAAI,CAAC,UAAU,EAAE,CAAE;IACnB,CAAC;IAED,oCAAgB,GAAhB;QACA,IAAI,CAAC,QAAQ,EAAE,CAAE;QACjB,IAAI,CAAC,UAAU,EAAE,CAAE;IAEnB,CAAC;IAEI,8BAAU,GAAhB;;;;gBAGA,sBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;wBAEjC,IAAI,CAAC,KAAI,CAAC,YAAY,IAAI,KAAI,CAAC,YAAY,CAAC,GAAG,IAAI,EAAE,EAAE;4BAClD,KAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,sBAAsB,CAAG,CAAC;4BACpD,OAAO,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;yBAC3C;wBAED,IAAI,IAAI,GAAG;4BACT,QAAQ,EAAE,KAAI,CAAC,YAAY,CAAC,GAAG;yBAC9B,CAAC;wBAGF,KAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAK;4BACjD,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;4BAExB,IAAG,KAAK,EAAE;gCACV,KAAI,CAAC,WAAW,GAAG,KAAK;gCACxB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,+DAAW,CAAC,WAAW,GAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,WAAW,CAAC,CAAE,CAAC;gCAC3F,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,+DAAW,CAAC,WAAW,GAAC,OAAO,EAAE,SAAS,GAAE,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;gCAEnF,IAAG,KAAI,CAAC,WAAW,CAAC,WAAW,IAAI,KAAK,EAAE;oCACzC,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;iCACxC;gCAED,IAAG,KAAI,CAAC,WAAW,CAAC,kBAAkB,IAAI,IAAI,EAAE;oCAC/C,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;iCAC1C;gCAEA,OAAO,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;6BAE1C;iCAAM;gCAEJ,OAAO,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;6BACnC;wBACH,CAAC,EAAE,UAAC,GAAG;4BAEJ,IAAI;gCACJ,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAE;gCAC/B,IAAG,EAAE,CAAC,QAAQ,EAAE;oCACd,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oCAClC,OAAO,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;iCACzC;6BACD;4BAAC,OAAO,CAAC,EAAE;gCACT,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gCACf,KAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;gCAC9B,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;6BACrC;wBAEJ,CAAC,CAAC,CAAC;oBAEH,CAAC,CAAC,EAAC;;;KAIH;IAED,4BAAQ,GAAR;QAEA,IAAI,CAAC,QAAQ,EAAE,CAAE;QACjB,IAAI,CAAC,UAAU,EAAE,CAAE;IACnB,CAAC;IAGD,0BAAM,GAAN;QAEE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAgBC;QAfC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;aACrE,IAAI,CAAC,aAAG;YACP,IAAI,GAAG,EAAE;gBACP,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACtB,KAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACrB,KAAI,CAAC,oBAAoB,EAAE,CAAE;aAC9B;QACH,CAAC,CAAC;aACD,KAAK,CAAC,aAAG;YACR,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEtB,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC;YACzB,KAAI,CAAC,YAAY,CAAC,cAAc,EAAE,EAAE,EAAE,GAAG,CAAG,CAAC;QAE/C,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,gCAAY,GAAlB,UAAmB,KAAK,EAAE,SAAS,EAAE,OAAO;;;;;;4BAC7B,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,MAAM,EAAE,KAAK;4BACb,SAAS,EAAE,SAAS;4BACpB,OAAO,EAAE,OAAO;4BAChB,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC;;wBALI,KAAK,GAAG,SAKZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;wBACtB,UAAU,CAAE;;;4CACV,qBAAM,KAAK,CAAC,OAAO,EAAE;;wCAArB,SAAqB,CAAC;;;;6BACxB,EAAE,IAAI,CAAC,CAAC;;;;;KAET;IAEK,8BAAU,GAAhB;;;;;;wBACF,uEAAuE;wBAEpE,IAAG,CAAC,IAAI,CAAC,YAAY,EAAE;4BAClB,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,sBAAsB,CAAG,CAAC;4BACrD,sBAAO;yBACV;wBAED,IAAG,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,EAAE,EAAE;4BAC3B,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,sBAAsB,CAAG,CAAC;4BACrD,sBAAO;yBACV;wBAEQ,qBAAM,IAAI,CAAC,UAAU,EAAE;;wBAA5B,EAAE,GAAG,SAAuB;wBAEhC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;wBAChB,IAAI,EAAE,IAAI,aAAa,CAAC,iBAAiB,EAAE;4BACzC,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;4BACnC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;yBACtC;6BAAM,IAAG,EAAE,IAAI,aAAa,CAAC,kBAAkB,EAAG;4BACjD,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;yBAE7C;6BAAM,IAAG,EAAE,IAAI,aAAa,CAAC,gBAAgB,EAAE;4BAC9C,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;yBAE3C;6BAAM,IAAG,EAAE,IAAI,aAAa,CAAC,eAAe,EAAE;4BAC7C,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;yBACzC;6BAAM;4BACL,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;yBAC/B;;;;;KAED;IAEK,4BAAQ,GAAd;;;;;;wBACC,SAAI;wBAAgB,qBAAM,IAAI,CAAC,gBAAgB,CAAC,eAAe,EAAE;;wBAAjE,GAAK,YAAY,GAAG,SAA6C,CAAC;;;;;KAClE;IAEF,4BAAQ,GAAR,UAAS,IAAI;QAAb,iBAyBE;QAvBF,IAAI,EAAE,GAAkB;YACpB,GAAG,EAAI,IAAI,CAAC,GAAG;YACf,WAAW,EAAI,IAAI,CAAC,WAAW;YAC/B,QAAQ,EAAI,IAAI,CAAC,QAAQ;YACzB,WAAW,EAAI,IAAI,CAAC,WAAW;YAC/B,KAAK,EAAI,IAAI,CAAC,KAAK;YACnB,aAAa,EAAI,IAAI,CAAC,aAAa;SAClC,CAAC;QAEH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QAEtB,IAAG,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,IAAK,IAAI,CAAC,YAAY,CAAC,GAAG,IAAI,EAAE,EACzD;YACG,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC;SAC7C;QACD,OAAO,CAAC,GAAG,CAAC,WAAW,GAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,+DAAW,CAAC,WAAW,GAAC,cAAc,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,WAAC;YAChG,KAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;QAC1C,CAAC,CAAC,CAAC;QACL,OAAO;IAIV,CAAC;IAED,wCAAoB,GAApB;QAAA,iBAcC;QAbC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,UAAC,IAAI;YACzC,IAAI,IAAI,EAAE;gBACR,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAE;gBACrB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAErB,IAAG,IAAI,CAAC,aAAa,EAAE;oBACpB,KAAI,CAAC,UAAU,EAAE,CAAC;iBACpB;qBAAK;oBACJ,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;iBAC3C;aAEJ;QACH,CAAC,CAAC;IACJ,CAAC;IAGM,gCAAY,GAAlB,UAAmB,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,QAAQ;;;;;4BAC5C,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,OAAO,EAAE,OAAO;4BAChB,eAAe,EAAE,WAAW;4BAC5B,QAAQ,EAAE,QAAQ;4BAClB,QAAQ,EAAE,QAAQ;yBACnB,CAAC;;wBALI,KAAK,GAAG,SAKZ;wBACF,KAAK,CAAC,OAAO,EAAE,CAAC;;;;;KACjB;IAEA,2BAAO,GAAP;QACC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACxC,CAAC;IA1OU,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,qFAAyB;;SAE1B,CAAC;+EAaqB,kEAAe;YACjB,sDAAO;YACR,+DAAM;YACG,8DAAe;YACf,8DAAe;YACd,8EAAgB;YAEhB,gEAAiB;YAC5B,sDAAM;OApBZ,SAAS,CA+OrB;IAAD,gBAAC;CAAA;AA/OqB","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { LoginPage } from './login';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginPageRoutingModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/docvalidate\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title> Login </ion-title>\\n    <ion-buttons slot=\\\"secondary\\\" >\\n     </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n\\n    <ion-list>\\n      <ion-card>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Email</ion-label>\\n        <ion-input placeholder=\\\"Enter email-id\\\" [(ngModel)]=\\\"email\\\" name=\\\"username\\\" type=\\\"text\\\" \\n          required>\\n        </ion-input>\\n      </ion-item>\\n\\n\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Password</ion-label>\\n        <ion-input placeholder=\\\"Enter password\\\" [(ngModel)]=\\\"password\\\" name=\\\"password\\\" type=\\\"password\\\" required>\\n        </ion-input>\\n      </ion-item>\\n      </ion-card>\\n\\n    </ion-list>\\n\\n    <ion-row responsive-sm>\\n      <ion-col>\\n        <ion-button (click)=\\\"loginfun()\\\"  expand=\\\"block\\\">Login</ion-button>\\n      </ion-col>\\n      <ion-col>\\n        <ion-button (click)=\\\"onSignup()\\\" color=\\\"light\\\" expand=\\\"block\\\">Signup</ion-button>\\n      </ion-col >\\n    </ion-row>\\n      <ion-item (click)=\\\"forgot()\\\" text-center>\\n        <ion-label position=\\\"stacked\\\" color=\\\"primary\\\" >Forgot password</ion-label>\\n      </ion-item>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login';\nimport { LoginPageRoutingModule } from './login-routing.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [\n    LoginPage,\n  ]\n})\nexport class LoginModule { }\n","module.exports = \".login-logo {\\n  padding: 20px 0;\\n  min-height: 200px;\\n  text-align: center; }\\n\\n.login-logo img {\\n  max-width: 150px; }\\n\\n.list {\\n  margin-bottom: 0; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3JhbWVzaC93b3Jrc3BhY2UyMC90aGVwYXlib3guZ2l0aHViLmlvL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFlO0VBQ2Ysa0JBQWlCO0VBQ2pCLG1CQUFrQixFQUNuQjs7QUFFRDtFQUNFLGlCQUFnQixFQUNqQjs7QUFFRDtFQUNFLGlCQUFnQixFQUNqQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tbG9nbyB7XG4gIHBhZGRpbmc6IDIwcHggMDtcbiAgbWluLWhlaWdodDogMjAwcHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmxvZ2luLWxvZ28gaW1nIHtcbiAgbWF4LXdpZHRoOiAxNTBweDtcbn1cblxuLmxpc3Qge1xuICBtYXJnaW4tYm90dG9tOiAwO1xufVxuIl19 */\"","import { Component, ViewEncapsulation } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\nimport { environment } from '../config/environment'\nimport { LoadingController, AlertController, ToastController } from '@ionic/angular';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Logger } from '../../providers/logger/logger';\nimport { loggedinUser } from '../models/loggedinuser.model' ;\n\n\nimport { TermsuserService } from '../termspage/terms-user.service';\n\n\nconst  Accountstatus = {\n    Networkerror: 0,\n    Accountnotcreated: 1,\n    Someerror : 3,\n    Termsnotaccepted : 4,\n    Featuresnotcreated :5 ,\n    Templatesnotcreated :6 ,\n    Accountsetupfine :7,\n    Usernotloggedin: 8\n  };\n\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n  styleUrls: ['./login.scss'],\n})\nexport class LoginPage {\n  email: '';\n  password: ''; \n  error : any;\n  loggedinuser : any = null;\n  useraccount : any = null;\n\n  submitted = false;\n  companyjson: any;\n\n\n  constructor\n    (private fireauth: AngularFireAuth,\n    private storage: Storage,\n    private logger: Logger,\n    private toastController: ToastController,\n    private alertController: AlertController,\n     public termsuserservice: TermsuserService,\n\n    public loadingController: LoadingController,\n    public router: Router\n  ) { \n\n  this.loaduser() ;\n  this.getaccount() ;\n  }\n\n  ionViewWillEnter() {\n  this.loaduser() ;\n  this.getaccount() ;\n\n  }\n\n async getaccount() {\n\n\n return new Promise((resolve, reject) => {\n\n   if( !this.loggedinuser || this.loggedinuser.uid == '') {\n        this.presentAlert('', '', \"1. User not loggedin\"  );\n        resolve(Accountstatus.Usernotloggedin); \n   }\n\n   var data = {\n     googleid: this.loggedinuser.uid,\n     };\n\n\n     this.termsuserservice.getaccount(data).then(data1=> {\n     this.logger.info(data1);\n\n     if(data1) {\n     this.useraccount = data1\n     this.storage.set(environment.storageuniq+'useraccount', JSON.stringify(this.useraccount) );\n     this.storage.set(environment.storageuniq+'token', \"WebKey \"+ this.useraccount.token);\n\n       if(this.useraccount.termsagreed != 'yes') {\n        resolve(Accountstatus.Termsnotaccepted); \n       }\n\n       if(this.useraccount.docvalidatefeature == null) {\n        resolve(Accountstatus.Featuresnotcreated); \n       }\n\n        resolve(Accountstatus.Accountsetupfine); \n     \n     } else {\n\n        resolve(Accountstatus.Someerror); \n     }\n   } ,(err) => {\n\n      try {\n      var xx = JSON.parse(err._body) ;\n       if(xx.response) {\n         console.log(xx.response.message);\n        resolve(Accountstatus.Accountnotcreated); \n       }\n      } catch (x) {\n         console.log(x);\n         this.presentAlert(\"\", \"\", x);\n        resolve(Accountstatus.Networkerror); \n      }\n\n   });\n\n   });\n\n\n\n  }\n\n  ngOnInit() {\n\n  this.loaduser() ;\n  this.getaccount() ;\n  }\n\n\n  forgot() {\n\n    this.router.navigateByUrl('/forgot');\n  }\n\n  onSignup() {\n    this.router.navigateByUrl('/signup');\n  }\n\n  loginfun() {\n    this.fireauth.auth.signInWithEmailAndPassword(this.email, this.password)\n      .then(res => {\n        if (res) {\n          this.logger.info(res);\n          this.storage.clear();\n          this.checkifemailverified() ;\n        }\n      })\n      .catch(err => {\n        this.logger.info(err);\n\n        this.error = err.message;\n        this.presentAlert('Login failed', '', err  );\n      \n      });\n  }\n\n   async presentAlert(title, subheader, message) {\n    const alert = await this.alertController.create({\n      header: title,\n      subHeader: subheader,\n      message: message,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n    setTimeout( async ()=>{\n      await alert.dismiss();\n   }, 2000);\n\n  }\n\n  async acceptterm() {\n//   this.loggedinuser = await this.termsuserservice.getloggedinuser();\n\n   if(!this.loggedinuser) {\n        this.presentAlert('', '', \"2. User not loggedin\"  );\n       return;\n   }\n\n   if(this.loggedinuser.uid == '') {\n        this.presentAlert('', '', \"3. User not loggedin\"  );\n       return;\n   }\n\n   var xx = await this.getaccount() ;\n\n   console.log(xx);\n   if( xx == Accountstatus.Accountnotcreated) {\n     console.log(\"account not created\");\n     this.router.navigateByUrl('/wallet');\n   } else if(xx == Accountstatus.Featuresnotcreated ) {  \n     console.log(\"account created, no features\");\n     \n   } else if(xx == Accountstatus.Accountsetupfine) {  \n     this.router.navigateByUrl('/docvalidate');\n\n   } else if(xx == Accountstatus.Usernotloggedin) {  \n     console.log(\"user not loggedin error \");\n   } else {\n     console.log(\"network error \");\n   }\n  \n  }\n\n  async loaduser() {\n   this.loggedinuser = await this.termsuserservice.getloggedinuser();\n  }\n\n saveuser(user) {\n\n var xx : loggedinUser = {\n     uid  : user.uid,\n     displayName  : user.displayName,\n     photoURL  : user.photoURL,\n     phoneNumber  : user.phoneNumber,\n     email  : user.email,\n     emailVerified  : user.emailVerified,\n     };\n\n    this.loggedinuser = xx;\n\n     if(!this.loggedinuser.uid  || this.loggedinuser.uid == '')\n     {\n        this.presentAlert(\"\", \"\", \"Error login. \");\n     }\n     console.log(\"saveuser=\"+ JSON.stringify(this.loggedinuser));\n       this.storage.set(environment.storageuniq+'loggedinuser',JSON.stringify(this.loggedinuser)).then(x=> {\n        this.termsuserservice.reflectloginuser();\n       });\n     return;\n\n\n\n  }\n\n  checkifemailverified() {\n    this.fireauth.auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.saveuser(user) ;\n        this.logger.info(user);\n\n          if(user.emailVerified) {\n             this.acceptterm(); \n          }else {\n            this.router.navigateByUrl('/verifyemail');\n          }\n\n      }\n    })\n  }\n\n\n   async presentToast(message, show_button, position, duration) {\n    const toast = await this.toastController.create({\n      message: message,\n      showCloseButton: show_button,\n      position: position,\n      duration: duration\n    });\n    toast.present();\n  }\n\n   gotokyc() {\n    this.router.navigateByUrl('/kycpage');\n  }\n\n\n\n\n}\n"],"sourceRoot":""}